# SmartNews Platform Monorepo

SmartNews Coreã‚’Headless CMSã¨ã—ã¦ã€Creatorsã€Bizã®3ã¤ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§æ§‹æˆã•ã‚Œã‚‹ãƒ¢ãƒãƒ¬ãƒã§ã™ã€‚

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
smartnews-platform/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ core-cms/        # SmartNews Core (ç®¡ç†CMS)
â”‚   â”œâ”€â”€ creators/        # SmartNews for Creators (å…¬é–‹ã‚µã‚¤ãƒˆ)
â”‚   â””â”€â”€ biz/             # SmartNews Biz (å…¬é–‹ã‚µã‚¤ãƒˆ)
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ database/        # Supabaseå‹å®šç¾©ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ui/              # å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ config/          # å…±é€šè¨­å®š
â””â”€â”€ package.json
```

## ğŸš€ é–‹å§‹æ–¹æ³•

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
pnpm install
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

å„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ `.env.local` ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

**apps/core-cms/.env.local**
```
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
# ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•
pnpm dev

# ç‰¹å®šã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã¿èµ·å‹•
pnpm --filter @smartnews/core-cms dev
pnpm --filter @smartnews/creators dev
pnpm --filter @smartnews/biz dev
```

## ğŸ”§ åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|---------|------|
| `pnpm dev` | ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹• |
| `pnpm build` | ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ“ãƒ«ãƒ‰ |
| `pnpm lint` | ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§lintã‚’å®Ÿè¡Œ |
| `pnpm type-check` | ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å‹ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ |

## ğŸŒ ãƒãƒ¼ãƒˆç•ªå·

| ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ | ãƒãƒ¼ãƒˆ |
|----------------|--------|
| core-cms | 3000 |
| creators | 3001 |
| biz | 3002 |

## ğŸ“¦ å…±é€šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

### @smartnews/database
Supabaseã®å‹å®šç¾©ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–¢æ•°ã‚’æä¾›ã€‚

```typescript
import { createBrowserClient, type Post } from '@smartnews/database';
```

### @smartnews/ui
å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æä¾›ï¼ˆä»Šå¾Œå®Ÿè£…äºˆå®šï¼‰ã€‚

```typescript
import { ArticleRenderer } from '@smartnews/ui';
```

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SmartNews Core â”‚ â† ç®¡ç†è€…/ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ãŒè¨˜äº‹ã‚’ä½œæˆ
â”‚     (CMS)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€ distribution_channels ãƒ†ãƒ¼ãƒ–ãƒ«ã«é…ä¿¡å…ˆã‚’è¨˜éŒ²
         â”‚
         v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Supabase     â”‚ â† ä¸­å¤®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”‚    (Database)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    v         v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Creators â”‚ â”‚   Biz   â”‚ â† å„ã‚µã‚¤ãƒˆãŒSupabaseã‹ã‚‰è¨˜äº‹ã‚’å–å¾—
â”‚  Web    â”‚ â”‚  Web    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

1. **Core CMS**: ç®¡ç†è€…ãƒ»ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ãŒè¨˜äº‹ã‚’ä½œæˆã—ã€é…ä¿¡å…ˆï¼ˆCreators/Biz/Newsletterï¼‰ã‚’é¸æŠ
2. **Database**: Supabaseã«è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã¨é…ä¿¡è¨­å®šã‚’ä¿å­˜
3. **Creators/Biz**: ãã‚Œãã‚Œã®ã‚µã‚¤ãƒˆãŒé…ä¿¡è¨­å®šã«åŸºã¥ã„ã¦è¨˜äº‹ã‚’å–å¾—ãƒ»è¡¨ç¤º

## ğŸ“ é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- å…±é€šã®å‹å®šç¾©ã¯ `packages/database` ã«é…ç½®
- å†åˆ©ç”¨å¯èƒ½ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ `packages/ui` ã«é…ç½®
- å„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç‹¬è‡ªæ©Ÿèƒ½ã¯ `apps/{app-name}` å†…ã§å®Œçµã•ã›ã‚‹
